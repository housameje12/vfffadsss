(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[462],{3462:function(e,n,t){Promise.resolve().then(t.bind(t,2953)),Promise.resolve().then(t.bind(t,2970)),Promise.resolve().then(t.bind(t,9817)),Promise.resolve().then(t.bind(t,5725)),Promise.resolve().then(t.t.bind(t,2713,23)),Promise.resolve().then(t.t.bind(t,4317,23)),Promise.resolve().then(t.t.bind(t,7296,23)),Promise.resolve().then(t.bind(t,4054)),Promise.resolve().then(t.bind(t,3803)),Promise.resolve().then(t.t.bind(t,8012,23))},5725:function(e,n,t){"use strict";t.d(n,{CookieLink:function(){return l}});var a=t(2403),o=t(6200),r=t(7437),i=t(2265),c=function(e){switch(e){case"kr":return"ko";case"jp":return"ja";case"cn":case"cnt":return"zh";default:return e}},l=function(e){var n=e.label,t=e.locale;return(0,i.useEffect)(function(){function e(){return(e=(0,a._)(function(){var e,n;return(0,o.Jh)(this,function(a){switch(a.label){case 0:if(window.OneTrust)return[3,2];return[4,new Promise(function(e){return setTimeout(e,100)})];case 1:return a.sent(),[3,0];case 2:try{n=c(t),null===(e=window.OneTrust)||void 0===e||e.changeLanguage(n)}catch(e){console.warn(e)}return[2]}})})).apply(this,arguments)}!function(){e.apply(this,arguments)}()},[t]),(0,r.jsx)("a",{className:"no-track",href:"#",onClick:function(){var e;null===(e=window.OneTrust)||void 0===e||e.ToggleInfoDisplay()},children:n})}},4054:function(e,n,t){"use strict";t.d(n,{LanguageDropdown:function(){return s}});var a=t(7437),o=t(9376),r={ar:"العربية",cn:"简体中文",cnt:"繁體中文",de:"Deutsch",en:"English",es:"Espa\xf1ol",fa:"فارسی",fi:"Suomi",fr:"Fran\xe7ais",he:"עִברִית",id:"Bahasa Indonesia",it:"Italiano",jp:"日本語",kr:"한국어",ms:"Bahasa Melayu",nl:"Nederlands",no:"Norsk",pl:"Polski",pt:"Portugu\xeas",ru:"ру́сский",th:"ไทย",tr:"T\xfcrk\xe7e",vi:"Tiếng Việt"},i={jp:"ja",kr:"ko",cn:"zh",cnt:"zh_tw"},c=t(3825),l=t.n(c),s=function(e){var n=e.currentLocale,t=e.availableLocales,c=(0,o.usePathname)(),s=function(e){if(c.startsWith("/supportcreator")){var t=i[e]||e,a=i[n]||n,o=c.replace("/".concat(a),"/".concat(t)),r=window.location.search;window.location.href="".concat(o).concat(null!=r?r:"");return}var l=c.replace("/".concat(n,"/"),"/".concat(e,"/")),s=window.location.search;window.location.href="".concat(l).concat(null!=s?s:"")};if(1===t.length)return null;var d=r[n].length;return(0,a.jsx)("div",{className:"language-dropdown-wrapper ".concat(l()["language-dropdown-wrapper"]),children:(0,a.jsx)("select",{style:{width:"".concat(Math.max(9*d+50,120),"px")},className:"language-dropdown ".concat(l()["language-dropdown"]),onChange:function(e){return s(e.target.value)},name:"locales",id:"locales","aria-label":"Select a language",value:n,children:t.map(function(e){return(0,a.jsx)("option",{value:e,children:r[e]},e)})})})}},3803:function(e,n,t){"use strict";t.d(n,{NestedContent:function(){return V}});var a=t(3583),o=t(7437),r=t(2953);t(9817),t(2970);var i=function(e,n){switch(e){case"ios":return"/images/common/store-logos/".concat(n,"/app-store.svg");case"android":return"/images/common/store-logos/".concat(n,"/google-play.png");case"amazon":return"/images/common/store-logos/en/amazon.png"}},c=t(2403),l=t(6200),s=t(2265);function d(){return(d=(0,c._)(function(e){var n;return(0,l.Jh)(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),n=new TextEncoder().encode(e),[4,crypto.subtle.digest("SHA-256",n)];case 1:return[2,Array.from(new Uint8Array(t.sent())).map(function(e){return e.toString(16).padStart(2,"0")}).join("")];case 2:return t.sent(),[2,""];case 3:return[2]}})})).apply(this,arguments)}function u(e){var n=(0,a._)((0,s.useState)(e.downloadLinks),2),t=n[0],o=n[1];(0,s.useEffect)(function(){var n,t=new URLSearchParams(window.location.search).get("code"),a=new URLSearchParams(window.location.search).get("action");t&&"voucher"===a&&(n=(0,c._)(function(){var n,a;return(0,l.Jh)(this,function(r){switch(r.label){case 0:if(!e.hashedSpecialVoucherCodes)return[2];return[4,function(e){return d.apply(this,arguments)}(t)];case 1:return n=r.sent(),e.hashedSpecialVoucherCodes.includes(n)&&o(null!==(a=e.specialDownloadLinks)&&void 0!==a?a:e.downloadLinks),[2]}})}),function(){return n.apply(this,arguments)})()},[e.downloadLinks,e.specialDownloadLinks,e.hashedSpecialVoucherCodes]);var r=Object.keys(t).length>0;return{downloadLinks:t,hasDownloadLinks:r}}var _=t(8151),p=t.n(_),f=function(e){var n,t=u(e.config),c=t.downloadLinks,l=t.hasDownloadLinks,s=Object.entries(null!==(n=e.downloadLinksOverride)&&void 0!==n?n:c).map(function(n){var t=(0,a._)(n,2),c=t[0],l=t[1],s=i(c,e.locale);if("android"===c&&"moco"===e.config.game&&"invite"===e.action){var d,u,_,p=new URLSearchParams;p.set("utm_source","link-service"),p.set("utm_campaign","invite"),p.set("utm_content",null!==(_=null===(u=window.location.pathname.match(/[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}/i))||void 0===u?void 0:u[0])&&void 0!==_?_:"");var f=new URLSearchParams;f.set("id","com.supercell.moco"),f.set("referrer",p.toString()),d="https://play.google.com/store/apps/details?".concat(f.toString())}return(0,o.jsx)("a",{href:null!=d?d:l,id:"".concat(c,"-download-link"),children:(0,o.jsx)(r.default,{alt:c,height:60,width:200,src:s,placeholder:"empty"})},c)}),d=s.length,_=e.onClickLabel&&e.wasClicked&&!e.withSteps?(0,o.jsx)("div",{className:"".concat(p()["clicked-label"]," clicked-label"),children:e.onClickLabel}):!e.wasClicked&&l||e.withSteps?(0,o.jsx)("div",{className:"".concat(p()["download-links-heading"]," download-links-heading"),children:e.downloadGameLabel}):null;return(0,o.jsxs)(o.Fragment,{children:[_,(0,o.jsx)("div",{className:"".concat(p()["download-links"]," download-links"),"data-links-amount":d,children:s})]})},h=t(5194),m=t(1780),g=t(2061),w=t.n(g),v=["ios","android"],A=new(w()),x=function(e){var n=u(e.config),t=n.downloadLinks,r=n.hasDownloadLinks,i=(0,a._)((0,s.useState)({name:void 0,version:void 0}),2),c=i[0],l=i[1];(0,s.useEffect)(function(){l(A.getOS())},[]);var d=Object.fromEntries(Object.entries(t).filter(function(e){var n=(0,a._)(e,2),t=n[0];if(n[1],!c.name)return!1;var o=c.name.toLowerCase();return!v.includes(o)||t===o}));return r?(0,o.jsx)(f,(0,m._)((0,h._)({},e),{downloadLinksOverride:d})):null},k=t(9376),b=function(e){var n=(0,k.useParams)(),t=(0,a._)(s.useState("default"),2),o=t[0],r=t[1];return s.useEffect(function(){var t=window.location.search;if(t.includes("invite")||(null==e?void 0:e.includes("invite"))||"invite"===n.action){r("invite");return}if(t.includes("action")&&t.includes("voucher")||(null==e?void 0:e.includes("voucher"))||"voucher"===n.action){r("voucher");return}if(t){if(t.includes("addFriend")||t.includes("add_friend")){r("add_friend");return}if(t.includes("copyDeck")){r("copy_deck");return}if(t.includes("join_team")){r("join_team");return}if(t.includes("join_clan")){r("join_clan");return}if(t.includes("supercell_id")){r("scid_friend");return}if(t.includes("supportcreator")){r("support_creator");return}}},[e,n.action]),o};function j(e){var n,t=e.leadKey,r=e.t,i=(0,a._)((0,s.useState)(null!==(n=r[null!=t?t:"lead_default"])&&void 0!==n?n:r.lead_default),2),c=i[0],l=i[1],d=b();return(0,s.useEffect)(function(){if(!t){if("add_friend"===d&&r.lead_add_friend){l(r.lead_add_friend);return}if("join_clan"===d&&r.lead_join_clan){l(r.lead_join_clan);return}if("join_team"===d&&r.lead_join_team){l(r.lead_join_team);return}if("support_creator"===d&&r.lead_support_creator){l(r.lead_support_creator);return}if("scid_friend"===d&&r.lead_scid_friend&&l(r.lead_scid_friend),"voucher"===d&&r.lead_voucher){l(r.lead_voucher);return}if("invite"===d&&r.lead_invite){l(r.lead_invite);return}}},[t,d,r.lead_add_friend,r.lead_join_clan,r.lead_join_team,r.lead_support_creator,r.lead_voucher,r.lead_scid_friend,r.lead_invite]),(0,o.jsx)("p",{children:c.replaceAll(/&shy;/g,"\xad")})}var y=t(8287),S=t.n(y),L=function(e){var n=e.children,t=e.link,a=e.testId,r=e.onClick,i=e.id;return(0,o.jsx)("a",{id:i,className:"".concat(S().button," button"),href:t,onClick:r,"data-testid":a,children:n})},C=function(e){var n,t=e.ctaKey,r=e.linkCommandOverride,i=e.t,c=(0,a._)((0,s.useState)(null!==(n=i[null!=t?t:"cta_default"])&&void 0!==n?n:i.cta_default),2),l=c[0],d=c[1],u=b(r);return(0,s.useEffect)(function(){if(!t){if("add_friend"===u&&i.cta_add_friend){d(i.cta_add_friend);return}if("copy_deck"===u&&i.cta_copy_deck){d(i.cta_copy_deck);return}if("join_clan"===u&&i.cta_join_clan){d(i.cta_join_clan);return}if("join_team"===u&&i.cta_join_team){d(i.cta_join_team);return}if("scid_friend"===u&&i.cta_scid_friend){d(i.cta_scid_friend);return}if("support_creator"===u&&i.cta_support_creator){d(i.cta_support_creator);return}if("voucher"===u&&i.cta_voucher){d(i.cta_voucher);return}if("invite"===u&&i.cta_invite){d(i.cta_invite);return}}},[t,u,i.cta_add_friend,i.cta_copy_deck,i.cta_join_clan,i.cta_join_team,i.cta_scid_friend,i.cta_support_creator,i.cta_voucher,i.cta_invite]),(0,o.jsx)("span",{dangerouslySetInnerHTML:{__html:l}})},E=t(4320),P=t.n(E),R=t(5819),N=t(9801),D=t.n(N);function U(e){var n,t=e.logoSizeRatio,r=void 0===t?.4:t,i=(0,s.useRef)(null),c=(0,a._)((0,s.useState)(!0),2),l=c[0],d=c[1],u=(0,a._)((0,s.useState)(!1),2),_=u[0],p=u[1],f=function(){var e=window.location.href;return R.toDataURL(e,{width:400,margin:0}).then(function(n){var t,a,o=null===(t=i.current)||void 0===t?void 0:t.getContext("2d",{willReadFrequently:!0});if(!o)throw Error("Could not get canvas context");var c=r,l=new Image;l.src=n;var s=new Image;s.src="/images/game/qr-logo.png",s.onerror=function(){o.drawImage(l,0,0,400,400)},s.onload=function(){do{o.drawImage(l,0,0,400,400);var n=Math.min(400*c,s.height),t=s.width/s.height*n;o.drawImage(s,(400-t)/2,(400-n)/2,t,n),c-=.01,a=D()(o.getImageData(0,0,400,400).data,400,400)}while((null==a?void 0:a.data)!==e&&c>.1)}})};(0,s.useLayoutEffect)(function(){try{f().catch(function(e){console.error(e)}).finally(function(){d(!1)})}catch(e){console.error(e),p(!0)}},[r]);var h=new g.UAParser,m=null===(n=h.getOS().name)||void 0===n?void 0:n.toLowerCase(),w=h.getDevice(),v="mac os"===m&&"tablet"===w.type;return _?null:(0,o.jsx)("div",{className:"qr-code-container ".concat(P().container," ").concat(l?"loading":""," ").concat("android"===m||"ios"===m||v?"hidden":""),children:(0,o.jsx)("canvas",{style:{width:"200px",height:"200px"},height:400,width:400,ref:i,className:"qr-code ".concat(P().qr)})})}var B=function(e){var n=e.config,t=e.ctaKey,r=e.appScheme,i=e.linkCommandOverride,c=e.t,l=e.environment,d=e.handleClick,u=(0,a._)((0,s.useState)("".concat(r,"://")),2),_=u[0],p=u[1],f=(0,k.usePathname)(),h="".concat(f).concat(window.location.hash),m=(0,k.useParams)(),g=(0,a._)((0,s.useState)(),2),w=g[0],v=g[1];return(0,s.useEffect)(function(){var e=window.location.search,n=e.replace("?",""),t=new URLSearchParams(n),a=t.get("scheme");t.delete("scheme");var o=t.toString(),c="".concat(a&&"production"!==l?a:r,"://");if(m.action){var s=h.replace("/".concat(m.locale,"/"),"");p("".concat(c).concat(s));return}if(e){if(n.startsWith("clashroyale://")){p(n);return}p(i?"".concat(c).concat(i).concat(o):"".concat(c).concat(o))}},[r,i,m.action,m.locale,h,l]),(0,s.useEffect)(function(){v("open-game-button")},[]),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(U,{logoSizeRatio:n.qrCodeLogoRatio}),(0,o.jsx)(L,{id:"open-game-button",link:_,onClick:function(){setTimeout(function(){d(!0)},500)},testId:w,children:(0,o.jsx)(C,{ctaKey:t,t:c})})]})},I=t(9425),F=t.n(I),V=function(e){var n,t=e.config,r=e.gameName,i=e.action,c=e.ctaKey,l=e.leadKey,d=e.linkCommandOverride,u=e.hideLead,_=e.appScheme,p=e.environment,h=e.locale,m=e.t,g=e.LinkLogo,w=e.withSteps,v=(0,a._)((0,s.useState)(!1),2),A=v[0],k=v[1];return(0,o.jsxs)(o.Fragment,{children:[!(null===(n=t.view)||void 0===n?void 0:n.withHero)&&g,(0,o.jsxs)("div",{className:"nested-content ".concat(F()["nested-content"]),children:[!u&&(0,o.jsx)("div",{className:"lead-wrapper ".concat(F()["lead-wrapper"]),children:(0,o.jsxs)(s.Suspense,{children:["moco"===r&&m.sub_lead_default&&(0,o.jsx)("p",{className:"sub-lead ".concat(F()["sub-lead"]),children:m.sub_lead_default}),(0,o.jsx)(j,{leadKey:l,t:m})]})}),(0,o.jsxs)("div",{className:"".concat(F()["qr-button-wrapper"]," qr-button-wrapper"),children:[w&&m.step_two&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("p",{className:"".concat(F()["step-text"]," step-text"),children:m.step_two}),m.step_two_action&&(0,o.jsx)("p",{children:m.step_two_action})]}),(0,o.jsx)(s.Suspense,{children:(0,o.jsx)(B,{config:t,linkCommandOverride:d,ctaKey:c,appScheme:_,t:m,environment:p,handleClick:k})})]}),(0,o.jsxs)("div",{className:"download-links-wrapper ".concat(F()["download-links-wrapper"]),children:[w&&m.step_one&&(0,o.jsx)("p",{className:"".concat(F()["step-text"]," step-text"),children:m.step_one}),(0,o.jsx)(s.Suspense,{fallback:(0,o.jsx)(f,{config:t,locale:h,action:i,wasClicked:A,onClickLabel:m.general_nothing_happens,downloadGameLabel:m.general_download_game,withSteps:w}),children:(0,o.jsx)(x,{config:t,locale:h,action:i,wasClicked:A,onClickLabel:m.general_nothing_happens,downloadGameLabel:m.general_download_game,withSteps:w})})]})]})]})}},8287:function(e){e.exports={button:"styles_button__DNJ4N"}},8151:function(e){e.exports={extraSmall:"300px",small:"576px",medium:"768px",large:"992px",extraLarge:"1200px","download-links":"styles_download-links__y17mc","download-links-heading":"styles_download-links-heading__XV9JX","clicked-label":"styles_clicked-label__3I3FA"}},2713:function(e){e.exports={extraSmall:"300px",small:"576px",medium:"768px",large:"992px",extraLarge:"1200px",footer:"styles_footer__1cZ8q",social:"styles_social__J7f1N",links:"styles_links__PIaVg","links-wrapper":"styles_links-wrapper__BmrYJ","footer-bottom":"styles_footer-bottom__4Uy_G","bottom-links":"styles_bottom-links__RK3oy"}},3825:function(e){e.exports={"language-dropdown-wrapper":"styles_language-dropdown-wrapper__z8_b8",globe:"styles_globe__E9jxy","language-dropdown":"styles_language-dropdown__tj_as"}},9425:function(e){e.exports={extraSmall:"300px",small:"576px",medium:"768px",large:"992px",extraLarge:"1200px","nested-content":"styles_nested-content__d5lEy","qr-button-wrapper":"styles_qr-button-wrapper__50IJE","download-links-wrapper":"styles_download-links-wrapper__Y_api","sub-lead":"styles_sub-lead__YM7fo"}},4320:function(e){e.exports={extraSmall:"300px",small:"576px",medium:"768px",large:"992px",extraLarge:"1200px",container:"styles_container__VE43u",spinning:"styles_spinning__o1EyM",qr:"styles_qr__wRI1A"}},8012:function(e){e.exports={extraSmall:"300px",small:"576px",medium:"768px",large:"992px",extraLarge:"1200px",main:"styles_main__H_BuV",logo:"styles_logo__fO964","deco-section":"styles_deco-section__LmdbE",hero:"styles_hero__G39Qe",contents:"styles_contents__ElCjD"}},2970:function(e,n,t){"use strict";t.r(n),n.default={src:"/_next/static/media/supercell_logo.73c8fcbc.png",height:84,width:104,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAGCAMAAADJ2y/JAAAAJFBMVEX9/f34+Pj5+fn4+Pj5+fn7+/v6+vr6+vr4+Pj////a2tr09PS0VHKBAAAADHRSTlPLjrabpq7Bgm0TDi+4QhdHAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAC5JREFUeJwFwYkBwCAMA7GznYeW/fdFgk5vjzGq2rkQMZKgatxZcPk//YHiM9EDEl8AsbR9t8sAAAAASUVORK5CYII=",blurWidth:8,blurHeight:6}},9817:function(e,n,t){"use strict";t.r(n),n.default={src:"/_next/static/media/deco.4b95dfae.png",height:400,width:780,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAECAMAAACEE47CAAAAIVBMVEVMaXFoWl2ekoV/cH5fUlcAP6qcpLqVi3yEalqbiXxnZ3F//ZwzAAAACHRSTlMAzImsoQx/rLs4nScAAAAJcEhZcwAAFiUAABYlAUlSJPAAAAAgSURBVHicY2BgYGBnYoAARkZWMM3GxQkRYubgYGFgAAADsQBDCbWFuQAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:4}}}]);